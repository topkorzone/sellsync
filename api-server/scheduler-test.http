### ============================================
### ìŠ¤ì¼€ì¤„ëŸ¬ í…ŒìŠ¤íŠ¸ API
### ============================================
### 
### ì‚¬ìš©ë²•:
### 1. VS Codeì— "REST Client" í™•ì¥ ì„¤ì¹˜
### 2. ê° ìš”ì²­ ìœ„ì˜ "Send Request" í´ë¦­
### 3. ë˜ëŠ” Postmanìœ¼ë¡œ importí•˜ì—¬ ì‚¬ìš©
### 
### âš ï¸ ì£¼ì˜: 
### - ì´ APIëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©í•˜ì„¸ìš”!
### - application-local.ymlì—ì„œ scheduler.test.enabled=true ì„¤ì • í•„ìš”
### - í…ŒìŠ¤íŠ¸ APIëŠ” ì¸ì¦ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤ (SecurityConfigì—ì„œ ì œì™¸ë¨)
### 
### ğŸ“ ì°¸ê³ :
### - ì¸ì¦ì´ í•„ìš”í•œ ë‹¤ë¥¸ APIë¥¼ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ì•„ë˜ JWT í† í°ì„ ì„¤ì •í•˜ì„¸ìš”
### - ë¡œê·¸ì¸ API: POST http://localhost:8080/api/auth/login
### ============================================

@baseUrl = http://localhost:8080/api/test/scheduler

# JWT í† í° (ë‹¤ë¥¸ ì¸ì¦ í•„ìš” API í…ŒìŠ¤íŠ¸ ì‹œ ì‚¬ìš©)
# ë¡œê·¸ì¸ í›„ ë°›ì€ accessTokenì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
@accessToken = "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMjIyMjIyMi0yMjIyLTIyMjItMjIyMi0yMjIyMjIyMjIyMjIiLCJlbWFpbCI6ImFkbWluQHRlc3QuY29tIiwicm9sZSI6IlRFTkFOVF9BRE1JTiIsImlhdCI6MTc2ODk5NDk2NCwiZXhwIjoxNzY4OTk4NTY0LCJ0ZW5hbnRJZCI6IjExMTExMTExLTExMTEtMTExMS0xMTExLTExMTExMTExMTExMSJ9.01Grde-sSGatVj7r7czLFcWCL-iTUZ-41C_Wssu6bHU",
@refreshToken = "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMjIyMjIyMi0yMjIyLTIyMjItMjIyMi0yMjIyMjIyMjIyMjIiLCJpYXQiOjE3Njg5OTQ5NjQsImV4cCI6MTc2OTU5OTc2NH0.A03EE2UiM8La-EhjFS6NrJSMfSyQQS83RJzjMPood8g"

### ============================================
### 0. ë¡œê·¸ì¸ (ì„ íƒì‚¬í•­ - ë‹¤ë¥¸ ì¸ì¦ í•„ìš” API í…ŒìŠ¤íŠ¸ ì‹œ)
### ============================================

### ë¡œê·¸ì¸ (JWT í† í° ë°œê¸‰)
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "email": "admin@test.com",
  "password": "password123"
}

# ì‘ë‹µì—ì„œ accessTokenì„ ë³µì‚¬í•˜ì—¬ ìœ„ì˜ @accessToken ë³€ìˆ˜ì— ì…ë ¥í•˜ì„¸ìš”


### ============================================
### 1. ìŠ¤ì¼€ì¤„ëŸ¬ ëª©ë¡ ì¡°íšŒ
### ============================================

### ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ìŠ¤ì¼€ì¤„ëŸ¬ ëª©ë¡ ì¡°íšŒ
GET {{baseUrl}}

### ============================================
### 2. ì£¼ë¬¸ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬
### ============================================

### 2.1 ì£¼ë¬¸ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : í™œì„± ìŠ¤í† ì–´ì˜ ì£¼ë¬¸ ë°ì´í„°ë¥¼ ìˆ˜ì§‘
# ì›ë˜ ìŠ¤ì¼€ì¤„: 60ë¶„ë§ˆë‹¤
POST {{baseUrl}}/order-collection


### ============================================
### 3. ì •ì‚° ê´€ë ¨ ìŠ¤ì¼€ì¤„ëŸ¬
### ============================================

### 3.1 ì •ì‚° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : í™œì„± ìŠ¤í† ì–´ì˜ ì •ì‚° ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì²˜ë¦¬
# ì›ë˜ ìŠ¤ì¼€ì¤„: ë§¤ì¼ ìƒˆë²½ 1ì‹œ
POST {{baseUrl}}/settlement/collect

### 3.2 ì •ì‚° ì „í‘œ ìƒì„± ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : VALIDATED ìƒíƒœì´ë©´ì„œ ì „í‘œ ë¯¸ìƒì„± ë°°ì¹˜ì˜ ì „í‘œ ìë™ ìƒì„±
# ì›ë˜ ìŠ¤ì¼€ì¤„: 10ë¶„ë§ˆë‹¤
POST {{baseUrl}}/settlement/process


### ============================================
### 4. ì „í‘œ ê´€ë ¨ ìŠ¤ì¼€ì¤„ëŸ¬
### ============================================

### 4.1 READY ì „í‘œ ì „ì†¡ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : READY ìƒíƒœ ì „í‘œë¥¼ ERPë¡œ ì „ì†¡
# ì›ë˜ ìŠ¤ì¼€ì¤„: 1ë¶„ë§ˆë‹¤
POST {{baseUrl}}/posting/ready

### 4.2 ì‹¤íŒ¨ ì „í‘œ ì¬ì‹œë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : ì¬ì‹œë„ ê°€ëŠ¥í•œ ì‹¤íŒ¨ ì „í‘œë¥¼ ë‹¤ì‹œ ì „ì†¡
# ì›ë˜ ìŠ¤ì¼€ì¤„: 5ë¶„ë§ˆë‹¤
POST {{baseUrl}}/posting/retry

### 4.3 ì •ì‚° ì™„ë£Œ ì£¼ë¬¸ ì „í‘œ ìƒì„± ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : ì •ì‚° ìˆ˜ì§‘ì´ ì™„ë£Œëœ ì£¼ë¬¸ì˜ ì „í‘œë¥¼ ìƒì„±
# ì›ë˜ ìŠ¤ì¼€ì¤„: 10ë¶„ë§ˆë‹¤
POST {{baseUrl}}/posting/settled




### ============================================
### 5. ì†¡ì¥ ê´€ë ¨ ìŠ¤ì¼€ì¤„ëŸ¬
### ============================================

### 5.1 ëŒ€ê¸° ì†¡ì¥ ë°˜ì˜ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : ëŒ€ê¸° ì¤‘ì¸ ì†¡ì¥ì„ ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ë°˜ì˜
# ì›ë˜ ìŠ¤ì¼€ì¤„: 5ë¶„ë§ˆë‹¤
POST {{baseUrl}}/shipment/pending

### 5.2 ì‹¤íŒ¨ ì†¡ì¥ ì¬ì‹œë„ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : ì‹¤íŒ¨í•œ ì†¡ì¥ ë°˜ì˜ì„ ì¬ì‹œë„
# ì›ë˜ ìŠ¤ì¼€ì¤„: 1ì‹œê°„ë§ˆë‹¤
POST {{baseUrl}}/shipment/retry


### ============================================
### 6. ERP í’ˆëª© ë™ê¸°í™” ìŠ¤ì¼€ì¤„ëŸ¬
### ============================================

### 6.1 ERP í’ˆëª© ë™ê¸°í™” ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰
# ì—­í• : ERP ì‹œìŠ¤í…œì˜ í’ˆëª© ë°ì´í„°ë¥¼ ë™ê¸°í™”
# ì›ë˜ ìŠ¤ì¼€ì¤„: ë§¤ì¼ ìƒˆë²½ 3ì‹œ (í˜„ì¬ ë¹„í™œì„±í™”)
POST {{baseUrl}}/erp-item-sync


### ============================================
### 7. ì „ì²´ ìŠ¤ì¼€ì¤„ëŸ¬ ìˆœì°¨ ì‹¤í–‰
### ============================================

### ëª¨ë“  ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ (ì£¼ì˜: ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŒ)
# ì‹¤í–‰ ìˆœì„œ:
# 1. ì£¼ë¬¸ ìˆ˜ì§‘
# 2. ì •ì‚° ìˆ˜ì§‘
# 3. ì •ì‚° ì „í‘œ ìƒì„±
# 4. ì •ì‚° ì™„ë£Œ ì£¼ë¬¸ ì „í‘œ ìƒì„±
# 5. READY ì „í‘œ ì „ì†¡
# 6. ì‹¤íŒ¨ ì „í‘œ ì¬ì‹œë„
# 7. ëŒ€ê¸° ì†¡ì¥ ë°˜ì˜
# 8. ì‹¤íŒ¨ ì†¡ì¥ ì¬ì‹œë„
# 9. ERP í’ˆëª© ë™ê¸°í™”
POST {{baseUrl}}/all


### ============================================
### 8. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
### ============================================

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì£¼ë¬¸ ìˆ˜ì§‘ -> ì •ì‚° ìˆ˜ì§‘ -> ì „í‘œ ìƒì„± í”Œë¡œìš°
###
### Step 1: ì£¼ë¬¸ ìˆ˜ì§‘
POST {{baseUrl}}/order-collection

### Step 2: ì •ì‚° ìˆ˜ì§‘ (Step 1 ì™„ë£Œ í›„ ì‹¤í–‰)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/settlement/collect

### Step 3: ì •ì‚° ì „í‘œ ìƒì„± (Step 2 ì™„ë£Œ í›„ ì‹¤í–‰)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/settlement/process

### Step 4: ì •ì‚° ì™„ë£Œ ì£¼ë¬¸ ì „í‘œ ìƒì„± (Step 3 ì™„ë£Œ í›„ ì‹¤í–‰)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/posting/settled

### Step 5: READY ì „í‘œ ì „ì†¡ (Step 4 ì™„ë£Œ í›„ ì‹¤í–‰)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/posting/ready


### ì‹œë‚˜ë¦¬ì˜¤ 2: ì†¡ì¥ ì²˜ë¦¬ í”Œë¡œìš°
###
### Step 1: ëŒ€ê¸° ì†¡ì¥ ë°˜ì˜
POST {{baseUrl}}/shipment/pending

### Step 2: ì‹¤íŒ¨ ì†¡ì¥ ì¬ì‹œë„ (Step 1 ì™„ë£Œ í›„ ì‹¤í–‰)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/shipment/retry


### ì‹œë‚˜ë¦¬ì˜¤ 3: ì „í‘œ ì¬ì‹œë„ í”Œë¡œìš°
###
### Step 1: ì‹¤íŒ¨ ì „í‘œ ì¬ì‹œë„
POST {{baseUrl}}/posting/retry

### Step 2: READY ì „í‘œ ì „ì†¡ (Step 1 ì™„ë£Œ í›„ ì¬ì‹œë„ëœ ì „í‘œ ì „ì†¡)
# ì ì‹œ ëŒ€ê¸°...
POST {{baseUrl}}/posting/ready


### ============================================
### 10. ë””ë²„ê¹…ìš© API
### ============================================

### 10.1 ì£¼ë¬¸ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ í™•ì¸
GET {{baseUrl}}/order-collection/status

### 10.2 ì£¼ë¬¸ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ í”Œë˜ê·¸ ê°•ì œ ë¦¬ì…‹
### âš ï¸ ì£¼ì˜: ì‹¤ì œë¡œ ì‹¤í–‰ ì¤‘ì¸ ì‘ì—…ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©
POST {{baseUrl}}/order-collection/reset

### 10.3 íŠ¹ì • ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ (ê¸ˆì•¡ í™•ì¸ìš©)
GET http://localhost:8080/api/orders/3e6cebb2-a345-48ca-9912-d4cada5b7a83
Authorization: Bearer {{accessToken}}

### 10.4 íŠ¹ì • ì „í‘œ ìƒì„¸ ì¡°íšŒ (í˜ì´ë¡œë“œ í™•ì¸ìš©)
GET http://localhost:8080/api/erp/documents/3a9687a1-5879-4df1-81d6-b22ce864f171
Authorization: Bearer {{accessToken}}

### 10.5 í™œì„± í…œí”Œë¦¿ ëª©ë¡ ì¡°íšŒ
GET http://localhost:8080/api/settings/templates?erpCode=ECOUNT&postingType=PRODUCT_SALES
Authorization: Bearer {{accessToken}}


### ============================================
### 9. ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (ìì£¼ ì‚¬ìš©í•˜ëŠ” ìŠ¤ì¼€ì¤„ëŸ¬)
### ============================================

### ì£¼ë¬¸ ìˆ˜ì§‘ (ê°€ì¥ ìì£¼ ì‚¬ìš©)
POST {{baseUrl}}/order-collection

### READY ì „í‘œ ì „ì†¡ (ì „í‘œ í…ŒìŠ¤íŠ¸ ì‹œ)
POST {{baseUrl}}/posting/ready

### ëŒ€ê¸° ì†¡ì¥ ë°˜ì˜ (ì†¡ì¥ í…ŒìŠ¤íŠ¸ ì‹œ)
POST {{baseUrl}}/shipment/pending


### ============================================
### ì‘ë‹µ ì˜ˆì‹œ
### ============================================

# ì„±ê³µ ì‘ë‹µ:
# {
#   "ok": true,
#   "data": {
#     "schedulerName": "ì£¼ë¬¸ ìˆ˜ì§‘",
#     "executedAt": "2026-01-21T14:30:00",
#     "completedAt": "2026-01-21T14:30:05",
#     "success": true,
#     "message": "ì£¼ë¬¸ ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤"
#   }
# }

# ì‹¤íŒ¨ ì‘ë‹µ:
# {
#   "ok": true,
#   "data": {
#     "schedulerName": "ì£¼ë¬¸ ìˆ˜ì§‘",
#     "executedAt": "2026-01-21T14:30:00",
#     "completedAt": "2026-01-21T14:30:05",
#     "success": false,
#     "message": "ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ ì‹¤íŒ¨: Connection timeout",
#     "error": "SocketTimeoutException"
#   }
# }
