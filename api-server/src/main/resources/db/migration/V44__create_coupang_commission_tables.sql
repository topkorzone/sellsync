-- 1) 수수료 참조 테이블 (쿠팡 수수료.md 데이터)
CREATE TABLE coupang_commission_rates (
    id                UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    major_category    VARCHAR(50) NOT NULL,
    middle_category   VARCHAR(100),
    minor_category    VARCHAR(100),
    commission_rate   DECIMAL(5,2) NOT NULL,
    created_at        TIMESTAMP NOT NULL DEFAULT now(),
    updated_at        TIMESTAMP NOT NULL DEFAULT now()
);

CREATE INDEX idx_ccr_major ON coupang_commission_rates(major_category);
CREATE INDEX idx_ccr_rate ON coupang_commission_rates(commission_rate);

-- 2) displayCategoryCode → 수수료율 매핑 테이블
CREATE TABLE coupang_category_code_mappings (
    id                    UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    display_category_code VARCHAR(20) NOT NULL UNIQUE,
    commission_rate_id    UUID REFERENCES coupang_commission_rates(id),
    override_rate         DECIMAL(5,2),
    memo                  VARCHAR(200),
    created_at            TIMESTAMP NOT NULL DEFAULT now(),
    updated_at            TIMESTAMP NOT NULL DEFAULT now()
);

-- 3) 시드 데이터: 쿠팡 수수료.md 116건
INSERT INTO coupang_commission_rates (major_category, middle_category, minor_category, commission_rate) VALUES
-- 가전디지털
('가전디지털', '기본 수수료', NULL, 7.80),
('가전디지털', '게임', '성인용게임(19)', 6.80),
('가전디지털', '게임', '휴대용게임', 6.80),
('가전디지털', '게임', 'PC게임', 6.80),
('가전디지털', '게임', 'TV/비디오게임', 6.80),
('가전디지털', '냉난방가전', '냉난방에어컨', 5.80),
('가전디지털', '냉방가전', '멀티형에어컨', 5.80),
('가전디지털', '냉방가전', '벽걸이형에어컨', 5.80),
('가전디지털', '냉방가전', '스탠드형에어컨', 5.80),
('가전디지털', '냉방가전', '이동식 스탠드형에어컨', 5.80),
('가전디지털', '카메라/카메라용품', '기타카메라', 6.00),
('가전디지털', '카메라/카메라용품', '디지털카메라', 5.80),
('가전디지털', '카메라/카메라용품', '초소형/히든카메라', 6.00),
('가전디지털', '카메라/카메라용품', '카메라렌즈', 5.80),
('가전디지털', '카메라/카메라용품', '캠코더/비디오카메라', 6.00),
('가전디지털', '카메라/카메라용품', 'DSLR/SLR카메라', 5.80),
('가전디지털', '태블릿PC/액세서리', '태블릿PC', 5.00),
('가전디지털', '생활가전', '냉장고', 5.80),
('가전디지털', '생활가전', '세탁기', 5.80),
('가전디지털', '빔/스크린', '빔/프로젝터', 5.80),
('가전디지털', '영상가전', '영상액세서리', 5.80),
('가전디지털', '영상가전', 'TV', 5.80),
('가전디지털', '영상가전', 'VTR/DVD플레이어', 5.80),
('가전디지털', '컴퓨터/게임', '컴퓨터', 5.00),
('가전디지털', '컴퓨터주변기기', '3D프린터', 5.80),
('가전디지털', '컴퓨터주변기기', '기타프린터', 5.80),
('가전디지털', '컴퓨터주변기기', '레이져복합기', 5.80),
('가전디지털', '컴퓨터주변기기', '레이져프린터', 5.80),
('가전디지털', '컴퓨터주변기기', '모니터', 4.50),
('가전디지털', '컴퓨터주변기기', '복사기', 5.80),
('가전디지털', '컴퓨터주변기기', '스캐너', 5.80),
('가전디지털', '컴퓨터주변기기', '잉크젯복합기', 5.80),
('가전디지털', '컴퓨터주변기기', '잉크젯프린터', 5.80),
('가전디지털', '컴퓨터주변기기', '포토프린터', 5.80),
('가전디지털', '컴퓨터주변기기', '마우스/키보드', 6.50),
('가전디지털', '컴퓨터주변기기', '유무선공유기', 6.50),
('가전디지털', '컴퓨터주변기기', '태블릿/노트북악세사리', 6.40),
('가전디지털', '컴퓨터주변기기', '기타', 6.40),
-- 가구/홈인테리어
('가구/홈인테리어', '기본 수수료', NULL, 10.80),
-- 도서
('도서', '기본 수수료', NULL, 10.80),
-- 음반
('음반', '기본 수수료', NULL, 10.80),
-- 문구/사무용품
('문구/사무용품', '기본 수수료', NULL, 10.80),
('문구/사무용품', '문구/팬시용품', '광학용품', 8.80),
('문구/사무용품', '사무용지류', '포토전용지', 7.80),
-- 출산/유아
('출산/유아', '기본 수수료', NULL, 10.00),
('출산/유아', '기저귀/물티슈', '기저귀크림/파우더', 9.80),
('출산/유아', '영유아물티슈', '영유아물티슈', 8.20),
('출산/유아', '영유아식품', NULL, 7.80),
('출산/유아', '분유', '유아분유', 6.40),
('출산/유아', '기저귀', '배변훈련팬티', 6.40),
('출산/유아', '기저귀', '수영장기저귀', 6.40),
('출산/유아', '기저귀', '일회용기저귀', 6.40),
('출산/유아', '기저귀', '천기저귀', 6.40),
-- 스포츠/레저용품
('스포츠/레저용품', '기본 수수료', NULL, 10.80),
('스포츠/레저용품', '골프용품', '골프거리측정기/GPS', 7.60),
('스포츠/레저용품', '골프용품', '골프클럽', 7.60),
('스포츠/레저용품', '골프용품', '골프풀세트', 7.60),
('스포츠/레저용품', '자전거용품', '성인용자전거', 7.60),
('스포츠/레저용품', '자전거용품', '아동용자전거', 7.60),
('스포츠/레저용품', '스포츠의류', NULL, 10.50),
('스포츠/레저용품', '스포츠신발', NULL, 10.50),
-- 뷰티
('뷰티', '기본 수수료', NULL, 9.60),
-- 생활용품
('생활용품', '기본 수수료', NULL, 7.80),
('생활용품', '의료위생/보조용품', '금연용품(19)', 10.80),
('생활용품', '의료위생/보조용품', '기타금연/흡연용품', 10.80),
('생활용품', '의료위생/보조용품', '환자보조용품', 10.00),
('생활용품', '의료위생/보조용품', '흡연용품(19)', 10.80),
('생활용품', '의료위생/보조용품', '전자담배(19)', 10.80),
('생활용품', '공구/철물/DIY', '건전지/충전기', 10.80),
('생활용품', '공구/철물/DIY', '건축/도장재료', 10.80),
('생활용품', '공구/철물', '가스부품', 10.80),
('생활용품', '공구/철물', '공구세트', 10.80),
('생활용품', '공구/철물', '공구함', 10.80),
('생활용품', '공구/철물', '기타공구및철물용품', 10.80),
('생활용품', '공구/철물', '대공용품', 10.80),
('생활용품', '공구/철물', '목장갑', 10.80),
('생활용품', '공구/철물', '보호복/작업복', 10.80),
('생활용품', '공구/철물', '수공구', 10.80),
('생활용품', '공구/철물', '수도부품', 10.80),
('생활용품', '공구/철물', '안전용품', 10.80),
('생활용품', '공구/철물', '자물쇠/보조키/도어락', 10.80),
('생활용품', '공구/철물', '철물용품', 10.80),
('생활용품', '공구/철물', '측적용공구', 10.80),
('생활용품', '조명/배선/전기코드류', '손전등', 10.80),
('생활용품', '조명/배선/전기코드류', '전구', 10.80),
('생활용품', '조명/배선/전기코드류', '전선/브라켓', 10.80),
('생활용품', '조명/배선/전기코드류', 'LED패널', 10.80),
('생활용품', '방향/탈취/살충제', '모기퇴치용품', 10.00),
('생활용품', '수납/정리잡화', '기타가정용품', 10.80),
('생활용품', '수납/정리잡화', '수납/정리용품', 10.80),
('생활용품', '수납/정리잡화', '압축팩/커버', 10.80),
('생활용품', '수납/정리잡화', '옷걸이/벽걸이', 10.80),
('생활용품', '안전용품', '가정/생활안전용품', 10.80),
('생활용품', '안전용품', '안전사고방지용품', 10.80),
('생활용품', '청소/세탁/욕실용품', NULL, 10.80),
('생활용품', '해충퇴치용품', '살충/방충용품', 10.00),
('생활용품', '성인용품(19)', NULL, 9.60),
-- 식품
('식품', '기본 수수료', NULL, 10.60),
('식품', '영양제', '유아건강식품', 7.60),
('식품', '채소류', '감자/고구마', 7.60),
('식품', '신선식품', '쌀/잡곡류', 5.80),
('식품', '면/라면', NULL, 10.90),
-- 완구/취미
('완구/취미', '기본 수수료', NULL, 10.80),
('완구/취미', 'RC완구', 'RC드론/쿼드콥터', 7.80),
-- 자동차용품
('자동차용품', '기본 수수료', NULL, 10.00),
('자동차용품', '차량정비용품', '타이어용품', 9.60),
('자동차용품', '차량정비용품', '휠/휠악세서리', 9.60),
('자동차용품', '차량용전자기기', '경보기/스마트키', 7.80),
('자동차용품', '차량용전자기기', '스마트기기용품', 7.80),
('자동차용품', '차량용전자기기', '차량용음향기기', 7.80),
('자동차용품', '차량용전자기기', '후방카메라/감지기', 7.80),
('자동차용품', '오토바이용품', NULL, 7.60),
('자동차용품', '방향제/디퓨저', '차량용방향제', 7.80),
('자동차용품', '공기청정/방향/탈취', '세정제/세정티슈', 7.80),
('자동차용품', '공기청정/방향/탈취', '탈취제/세정제', 7.80),
('자동차용품', '차량가전용품', '내비게이션', 6.80),
('자동차용품', '차량가전용품', '블랙박스', 6.80),
('자동차용품', '차량가전용품', '하이패스', 6.80),
-- 주방용품
('주방용품', '기본 수수료', NULL, 10.80),
('주방용품', '조리보조도구', '제면기', 7.80),
-- 패션
('패션', '기본 수수료', NULL, 10.50),
('패션', '쥬얼리', '순금/골드바/돌반지', 4.00),
('패션', '패션의류', NULL, 10.50),
('패션', '패션잡화', NULL, 10.50),
-- 반려/애완용품
('반려/애완용품', '기본 수수료', NULL, 10.80);
